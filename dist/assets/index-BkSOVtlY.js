import{d as k,h as w,y as M,m as $,b as ee,j as y,r as te,A as F,n as U}from"./index-CkXqjWma.js";function q(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function de(e){if(Array.isArray(e))return e}function se(e,t,r){return(t=ye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,u,o=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(l){s=!0,a=l}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(s)throw a}}return o}}function ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(n){se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ge(e,t){if(e==null)return{};var r,n,a=me(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function me(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pe(e,t){return de(e)||fe(e,t)||be(e,t)||ve()}function he(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ye(e){var t=he(e,"string");return typeof t=="symbol"?t:t+""}function be(e,t){if(e){if(typeof e=="string")return q(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(n){Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Se(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(a,i){return i(a)},n)}}function P(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];return t.apply(r,[].concat(a,o))}}}function V(e){return{}.toString.call(e).includes("Object")}function we(e){return!Object.keys(e).length}function _(e){return typeof e=="function"}function je(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pe(e,t){return V(t)||b("changeType"),Object.keys(t).some(function(r){return!je(e,r)})&&b("changeField"),t}function _e(e){_(e)||b("selectorType")}function Me(e){_(e)||V(e)||b("handlerType"),V(e)&&Object.values(e).some(function(t){return!_(t)})&&b("handlersType")}function Ee(e){e||b("initialIsRequired"),V(e)||b("initialType"),we(e)&&b("initialContent")}function Ie(e,t){throw new Error(e[t]||e.default)}var $e={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},b=P(Ie)($e),I={changes:Pe,selector:_e,handler:Me,initial:Ee};function Ve(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};I.initial(e),I.handler(t);var r={current:e},n=P(De)(r,t),a=P(Ce)(r),i=P(I.changes)(e),u=P(Te)(r);function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(l){return l};return I.selector(s),s(r.current)}function c(s){Se(n,a,i,u)(s)}return[o,c]}function Te(e,t){return _(t)?t(e.current):t}function Ce(e,t){return e.current=B(B({},e.current),t),t}function De(e,t,r){return _(t)?t(e.current):Object.keys(r).forEach(function(n){var a;return(a=t[n])===null||a===void 0?void 0:a.call(t,e.current[n])}),r}var Ae={create:Ve},xe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Le(e){return function t(){for(var r=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>=e.length?e.apply(this,a):function(){for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];return t.apply(r,[].concat(a,o))}}}function Ne(e){return{}.toString.call(e).includes("Object")}function Fe(e){return e||K("configIsRequired"),Ne(e)||K("configType"),e.urls?(Ue(),{paths:{vs:e.urls.monacoBase}}):e}function Ue(){console.warn(re.deprecation)}function qe(e,t){throw new Error(e[t]||e.default)}var re={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},K=Le(qe)(re),ze={config:Fe},He=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduceRight(function(i,u){return u(i)},a)}};function ne(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],ne(e[r],t[r]))}),H(H({},e),t)}var We={type:"cancelation",msg:"operation is manually canceled"};function D(e){var t=!1,r=new Promise(function(n,a){e.then(function(i){return t?a(We):n(i)}),e.catch(a)});return r.cancel=function(){return t=!0},r}var Be=["monaco"],Ke=Ae.create({config:xe,isInitialized:!1,resolve:null,reject:null,monaco:null}),ae=pe(Ke,2),E=ae[0],C=ae[1];function Re(e){var t=ze.config(e),r=t.monaco,n=ge(t,Be);C(function(a){return{config:ne(a.config,n),monaco:r}})}function Ge(){var e=E(function(t){var r=t.monaco,n=t.isInitialized,a=t.resolve;return{monaco:r,isInitialized:n,resolve:a}});if(!e.isInitialized){if(C({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),D(A);if(window.monaco&&window.monaco.editor)return ie(window.monaco),e.resolve(window.monaco),D(A);He(Ye,Qe)(Xe)}return D(A)}function Ye(e){return document.body.appendChild(e)}function Je(e){var t=document.createElement("script");return e&&(t.src=e),t}function Qe(e){var t=E(function(n){var a=n.config,i=n.reject;return{config:a,reject:i}}),r=Je("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Xe(){var e=E(function(r){var n=r.config,a=r.resolve,i=r.reject;return{config:n,resolve:a,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var n=r.m||r;ie(n),e.resolve(n)},function(r){e.reject(r)})}function ie(e){E().monaco||C({monaco:e})}function Ze(){return E(function(e){var t=e.monaco;return t})}var A=new Promise(function(e,t){return C({resolve:e,reject:t})}),R={config:Re,init:Ge,__getMonacoInstance:Ze},ke=Object.defineProperty,et=Object.defineProperties,tt=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,Y=(e,t,r)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))rt.call(t,r)&&Y(e,r,t[r]);if(G)for(var r of G(t))nt.call(t,r)&&Y(e,r,t[r]);return e},at=(e,t)=>et(e,tt(t));const L={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function oe(e,t){const r=$(()=>{const{width:a,height:i}=e;return at(x({},L.wrapper),{width:a,height:i})}),n=$(()=>x(x({},L.fullWidth),!t.value&&L.hide));return{wrapperStyle:r,containerStyle:n}}function ue(){const e=M(R.__getMonacoInstance()),t=te(!1);let r;return F(()=>{e.value||(r=R.init(),r.then(a=>e.value=a).catch(a=>{a?.type!=="cancelation"&&(t.value=!0,console.error("Monaco initialization error:",a))}))}),{monacoRef:e,unload:()=>r?.cancel(),isLoadFailed:t}}function T(e){return typeof e=="function"?e():e}function N(e){return e===void 0}function j(e,t,r,n){return it(e,n)||ot(e,t,r,n)}function it(e,t){return e.editor.getModel(le(e,t))}function ot(e,t,r,n){return e.editor.createModel(t,r,n?le(e,n):void 0)}function le(e,t){return e.Uri.parse(t)}var ut=Object.defineProperty,J=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,Q=(e,t,r)=>t in e?ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dt=(e,t)=>{for(var r in t||(t={}))lt.call(t,r)&&Q(e,r,t[r]);if(J)for(var r of J(t))ct.call(t,r)&&Q(e,r,t[r]);return e};const st={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var St=k({name:"VueMonacoEditor",model:{prop:"value",event:"update:value"},props:{defaultValue:String,defaultPath:String,defaultLanguage:String,value:String,language:String,path:String,theme:{type:String,default:"vs"},line:Number,options:{type:Object,default:()=>({})},overrideServices:{type:Object,default:()=>({})},saveViewState:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},emits:["update:value","beforeMount","mount","change","validate"],setup(e,t){const r=new Map,n=M(null),{monacoRef:a,unload:i,isLoadFailed:u}=ue(),{editorRef:o}=ft(t,e,a,n),{disposeValidator:c}=vt(t,e,a,o),s=$(()=>!!a.value&&!!o.value),{wrapperStyle:l,containerStyle:g}=oe(e,s);return ee(()=>{var d,v;(d=c.value)==null||d.call(c),o.value?((v=o.value.getModel())==null||v.dispose(),o.value.dispose()):i()}),y([()=>e.path,()=>e.value,()=>e.language,()=>e.line],([d,v,m,p],[h,O,f,S])=>{if(s.value){if(d!==h){const ce=j(a.value,v||e.defaultValue||"",m||e.defaultLanguage||"",d||e.defaultPath||"");e.saveViewState&&r.set(h,o.value.saveViewState()),o.value.setModel(ce),e.saveViewState&&o.value.restoreViewState(r.get(d)),N(p)||o.value.revealLine(p);return}o.value.getValue()!==v&&o.value.setValue(v),m!==f&&a.value.editor.setModelLanguage(o.value.getModel(),m),!N(p)&&p!==S&&o.value.revealLine(p)}}),y(()=>e.options,d=>o.value&&o.value.updateOptions(d),{deep:!0}),y(()=>e.theme,d=>a.value&&a.value.editor.setTheme(d)),{containerRef:n,isEditorReady:s,isLoadFailed:u,wrapperStyle:l,containerStyle:g}},render(){const{$slots:e,isEditorReady:t,isLoadFailed:r,wrapperStyle:n,containerStyle:a,className:i}=this;return w("div",{style:n},[!t&&w("div",{style:st},r?e.failure?T(e.failure):"load failed":e.default?T(e.default):"loading..."),w("div",{ref:"containerRef",key:"monaco_editor_container",style:a,class:i})])}});function ft({emit:e},t,r,n){const a=M(null);F(()=>{const u=y(r,()=>{n.value&&r.value&&(U(()=>u()),i())},{immediate:!0})});function i(){var u;if(!n.value||!r.value||a.value)return;e("beforeMount",r.value);const o=t.path||t.defaultPath,c=j(r.value,t.value||t.defaultValue||"",t.language||t.defaultLanguage||"",o||"");a.value=r.value.editor.create(n.value,dt({model:c,theme:t.theme,automaticLayout:!0,autoIndent:"brackets",formatOnPaste:!0,formatOnType:!0},t.options),t.overrideServices),(u=a.value)==null||u.onDidChangeModelContent(s=>{const l=a.value.getValue();l!==t.value&&(e("update:value",l),e("change",l,s))}),a.value&&!N(t.line)&&a.value.revealLine(t.line),e("mount",a.value,r.value)}return{editorRef:a}}function vt({emit:e},t,r,n){const a=te(null),i=y([r,n],()=>{if(r.value&&n.value){U(()=>i());const u=r.value.editor.onDidChangeMarkers(o=>{var c,s;const l=(s=(c=n.value)==null?void 0:c.getModel())==null?void 0:s.uri;if(l&&o.find(d=>d.path===l.path)){const d=r.value.editor.getModelMarkers({resource:l});e("validate",d)}});a.value=()=>u?.dispose()}});return{disposeValidator:a}}var gt=Object.defineProperty,X=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,Z=(e,t,r)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ht=(e,t)=>{for(var r in t||(t={}))mt.call(t,r)&&Z(e,r,t[r]);if(X)for(var r of X(t))pt.call(t,r)&&Z(e,r,t[r]);return e};const yt={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var wt=k({name:"VueMonacoDiffEditor",props:{original:String,modified:String,language:String,originalLanguage:String,modifiedLanguage:String,originalModelPath:String,modifiedModelPath:String,theme:{type:String,default:"vs"},options:{type:Object,default:()=>({})},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},setup(e,t){const r=M(null),{monacoRef:n,unload:a,isLoadFailed:i}=ue(),{diffEditorRef:u}=bt(t,e,n,r),o=$(()=>!!n.value&&!!u.value),{wrapperStyle:c,containerStyle:s}=oe(e,o);return ee(()=>{var l,g,d,v,m,p,h,O;!n.value&&a();const f=(g=(l=u.value)==null?void 0:l.getModel)==null?void 0:g.call(l);(v=(d=f?.original)==null?void 0:d.dispose)==null||v.call(d),(p=(m=f?.modified)==null?void 0:m.dispose)==null||p.call(m),(O=(h=u.value)==null?void 0:h.dispose)==null||O.call(h)}),y([()=>e.originalModelPath,()=>e.original,()=>e.originalLanguage,()=>e.language],([l,g,d,v],[m,p,h,O])=>{if(!o.value)return;const f=u.value.getOriginalEditor();if(l!==m){const S=j(n.value,g||"",d||v||"text",l||"");f.setModel(S);return}g!==f.getValue()&&f.setValue(g||""),(d!==h||v!==O)&&n.value.editor.setModelLanguage(u.value.getModel().original,d||v||"text")}),y([()=>e.modifiedModelPath,()=>e.modified,()=>e.modifiedLanguage,()=>e.language],([l,g,d,v],[m,p,h,O])=>{if(!o.value)return;const f=u.value.getModifiedEditor();if(m!==l){const S=j(n.value,g||"",d||v||"text",l||"");f.setModel(S);return}if(g!==f.getValue()){const S=n.value.editor.EditorOption.readOnly;f.getOption(S)?f.setValue(g||""):(f.executeEdits("",[{range:f.getModel().getFullModelRange(),text:g||"",forceMoveMarkers:!0}]),f.pushUndoStop())}(d!==h||v!==O)&&n.value.editor.setModelLanguage(u.value.getModel().modified,d||v||"text")}),y(()=>e.theme,()=>{var l;return(l=n.value)==null?void 0:l.editor.setTheme(e.theme)}),y(()=>e.options,()=>{var l;return(l=u.value)==null?void 0:l.updateOptions(e.options)},{deep:!0}),{containerRef:r,isDiffEditorReady:o,isLoadFailed:i,wrapperStyle:c,containerStyle:s}},render(){const{$slots:e,isDiffEditorReady:t,isLoadFailed:r,wrapperStyle:n,containerStyle:a,className:i}=this;return w("div",{style:n},[!t&&w("div",{style:yt},r?e.failure?T(e.failure):"load failed":e.default?T(e.default):"loading..."),w("div",{ref:"containerRef",key:"monaco_diff_editor_container",style:a,class:i})])}});function bt({emit:e},t,r,n){const a=M(null);F(()=>{const u=y(r,()=>{n.value&&r.value&&(U(()=>u()),i())},{immediate:!0})});function i(){var u;if(!n.value||!r.value||a.value)return;e("beforeMount",r.value),a.value=r.value.editor.createDiffEditor(n.value,ht({automaticLayout:!0,autoIndent:"brackets",theme:t.theme,formatOnPaste:!0,formatOnType:!0},t.options));const o=j(r.value,t.original||"",t.originalLanguage||t.language||"text",t.originalModelPath||""),c=j(r.value,t.modified||"",t.modifiedLanguage||t.language||"text",t.modifiedModelPath||"");(u=a.value)==null||u.setModel({original:o,modified:c}),e("mount",a.value,r.value)}return{diffEditorRef:a}}export{wt as V,St as a};
