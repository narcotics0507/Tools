import{i as xe,j as je,r as Q,k as Se,n as Oe,d as Ve,g as be,l as Le,m as Ee,F as Te,c as ne,o as re,e as b,w as X,p as le,q as Pe,f as Ae,v as _e,t as Ie,u as Fe}from"./index-CkXqjWma.js";import{d as Be}from"./debounce-2YI33as6.js";import{_ as Me}from"./_plugin-vue_export-helper-DlAUqK2U.js";var De={207:(e,r,o)=>{e.exports=o(452)},452:e=>{var r=(function(o){var a,x=Object.prototype,C=x.hasOwnProperty,_=typeof Symbol=="function"?Symbol:{},f=_.iterator||"@@iterator",S=_.asyncIterator||"@@asyncIterator",N=_.toStringTag||"@@toStringTag";function O(t,n,c){return Object.defineProperty(t,n,{value:c,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{O({},"")}catch{O=function(n,c,h){return n[c]=h}}function D(t,n,c,h){var u=n&&n.prototype instanceof R?n:R,m=Object.create(u.prototype),j=new s(h||[]);return m._invoke=(function(E,A,d){var L=I;return function(B,W){if(L===V)throw new Error("Generator is already running");if(L===P){if(B==="throw")throw W;return g()}for(d.method=B,d.arg=W;;){var te=d.delegate;if(te){var ae=q(te,d);if(ae){if(ae===T)continue;return ae}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(L===I)throw L=P,d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);L=V;var Z=J(E,A,d);if(Z.type==="normal"){if(L=d.done?P:p,Z.arg===T)continue;return{value:Z.arg,done:d.done}}Z.type==="throw"&&(L=P,d.method="throw",d.arg=Z.arg)}}})(t,c,j),m}function J(t,n,c){try{return{type:"normal",arg:t.call(n,c)}}catch(h){return{type:"throw",arg:h}}}o.wrap=D;var I="suspendedStart",p="suspendedYield",V="executing",P="completed",T={};function R(){}function U(){}function K(){}var z={};O(z,f,(function(){return this}));var k=Object.getPrototypeOf,y=k&&k(k(v([])));y&&y!==x&&C.call(y,f)&&(z=y);var w=K.prototype=R.prototype=Object.create(z);function H(t){["next","throw","return"].forEach((function(n){O(t,n,(function(c){return this._invoke(n,c)}))}))}function F(t,n){function c(u,m,j,E){var A=J(t[u],t,m);if(A.type!=="throw"){var d=A.arg,L=d.value;return L&&typeof L=="object"&&C.call(L,"__await")?n.resolve(L.__await).then((function(B){c("next",B,j,E)}),(function(B){c("throw",B,j,E)})):n.resolve(L).then((function(B){d.value=B,j(d)}),(function(B){return c("throw",B,j,E)}))}E(A.arg)}var h;this._invoke=function(u,m){function j(){return new n((function(E,A){c(u,m,E,A)}))}return h=h?h.then(j,j):j()}}function q(t,n){var c=t.iterator[n.method];if(c===a){if(n.delegate=null,n.method==="throw"){if(t.iterator.return&&(n.method="return",n.arg=a,q(t,n),n.method==="throw"))return T;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var h=J(c,t.iterator,n.arg);if(h.type==="throw")return n.method="throw",n.arg=h.arg,n.delegate=null,T;var u=h.arg;return u?u.done?(n[t.resultName]=u.value,n.next=t.nextLoc,n.method!=="return"&&(n.method="next",n.arg=a),n.delegate=null,T):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,T)}function M(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function l(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function s(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function v(t){if(t){var n=t[f];if(n)return n.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length)){var c=-1,h=function u(){for(;++c<t.length;)if(C.call(t,c))return u.value=t[c],u.done=!1,u;return u.value=a,u.done=!0,u};return h.next=h}}return{next:g}}function g(){return{value:a,done:!0}}return U.prototype=K,O(w,"constructor",K),O(K,"constructor",U),U.displayName=O(K,N,"GeneratorFunction"),o.isGeneratorFunction=function(t){var n=typeof t=="function"&&t.constructor;return!!n&&(n===U||(n.displayName||n.name)==="GeneratorFunction")},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,K):(t.__proto__=K,O(t,N,"GeneratorFunction")),t.prototype=Object.create(w),t},o.awrap=function(t){return{__await:t}},H(F.prototype),O(F.prototype,S,(function(){return this})),o.AsyncIterator=F,o.async=function(t,n,c,h,u){u===void 0&&(u=Promise);var m=new F(D(t,n,c,h),u);return o.isGeneratorFunction(n)?m:m.next().then((function(j){return j.done?j.value:m.next()}))},H(w),O(w,N,"Generator"),O(w,f,(function(){return this})),O(w,"toString",(function(){return"[object Generator]"})),o.keys=function(t){var n=[];for(var c in t)n.push(c);return n.reverse(),function h(){for(;n.length;){var u=n.pop();if(u in t)return h.value=u,h.done=!1,h}return h.done=!0,h}},o.values=v,s.prototype={constructor:s,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(l),!t)for(var n in this)n.charAt(0)==="t"&&C.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function c(A,d){return m.type="throw",m.arg=t,n.next=A,d&&(n.method="next",n.arg=a),!!d}for(var h=this.tryEntries.length-1;h>=0;--h){var u=this.tryEntries[h],m=u.completion;if(u.tryLoc==="root")return c("end");if(u.tryLoc<=this.prev){var j=C.call(u,"catchLoc"),E=C.call(u,"finallyLoc");if(j&&E){if(this.prev<u.catchLoc)return c(u.catchLoc,!0);if(this.prev<u.finallyLoc)return c(u.finallyLoc)}else if(j){if(this.prev<u.catchLoc)return c(u.catchLoc,!0)}else{if(!E)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return c(u.finallyLoc)}}}},abrupt:function(t,n){for(var c=this.tryEntries.length-1;c>=0;--c){var h=this.tryEntries[c];if(h.tryLoc<=this.prev&&C.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var u=h;break}}u&&(t==="break"||t==="continue")&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var m=u?u.completion:{};return m.type=t,m.arg=n,u?(this.method="next",this.next=u.finallyLoc,T):this.complete(m)},complete:function(t,n){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&n&&(this.next=n),T},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n];if(c.finallyLoc===t)return this.complete(c.completion,c.afterLoc),l(c),T}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n];if(c.tryLoc===t){var h=c.completion;if(h.type==="throw"){var u=h.arg;l(c)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,c){return this.delegate={iterator:v(t),resultName:n,nextLoc:c},this.method==="next"&&(this.arg=a),T}},o})(e.exports);try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},de={};function Y(e){var r=de[e];if(r!==void 0)return r.exports;var o=de[e]={exports:{}};return De[e](o,o.exports,Y),o.exports}Y.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return Y.d(r,{a:r}),r},Y.d=(e,r)=>{for(var o in r)Y.o(r,o)&&!Y.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},Y.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var we={};function ce(e,r){(r==null||r>e.length)&&(r=e.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=e[o];return a}function Ne(e,r){if(e){if(typeof e=="string")return ce(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ce(e,r):void 0}}function oe(e){return(function(r){if(Array.isArray(r))return ce(r)})(e)||(function(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)})(e)||Ne(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ee(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}Y.d(we,{A:()=>Ye});const i=(he={Fragment:()=>Te,computed:()=>Ee,createTextVNode:()=>Le,createVNode:()=>be,defineComponent:()=>Ve,nextTick:()=>Oe,reactive:()=>Se,ref:()=>Q,watch:()=>je,watchEffect:()=>xe},ie={},Y.d(ie,he),ie),He=(0,i.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,r=this.onClick;return(0,i.createVNode)("span",{class:"vjs-tree-brackets",onClick:r},[e])}}),Je=(0,i.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,r){var o=r.emit;return{uiType:(0,i.computed)((function(){return e.isMultiple?"checkbox":"radio"})),model:(0,i.computed)({get:function(){return e.checked},set:function(a){return o("update:modelValue",a)}})}},render:function(){var e=this.uiType,r=this.model,o=this.$emit;return(0,i.createVNode)("label",{class:["vjs-check-controller",r?"is-checked":""],onClick:function(a){return a.stopPropagation()}},[(0,i.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,i.createVNode)("input",{checked:r,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return o("change",r)}},null)])}}),Ke=(0,i.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,r=this.onClick,o=e==="objectStart"||e==="arrayStart";return o||e==="objectCollapsed"||e==="arrayCollapsed"?(0,i.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(o?"open":"close"),onClick:r},[(0,i.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,i.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});var he,ie;function ue(e){return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ue(e)}function ke(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function $(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=(arguments.length>3?arguments[3]:void 0)||{},x=a.key,C=a.index,_=a.type,f=_===void 0?"content":_,S=a.showComma,N=S!==void 0&&S,O=a.length,D=O===void 0?1:O,J=ke(e);if(J==="array"){var I=fe(e.map((function(P,T,R){return $(P,"".concat(r,"[").concat(T,"]"),o+1,{index:T,showComma:T!==R.length-1,length:D,type:f})})));return[$("[",r,o,{showComma:!1,key:x,length:e.length,type:"arrayStart"})[0]].concat(I,$("]",r,o,{showComma:N,length:e.length,type:"arrayEnd"})[0])}if(J==="object"){var p=Object.keys(e),V=fe(p.map((function(P,T,R){return $(e[P],/^[a-zA-Z_]\w*$/.test(P)?"".concat(r,".").concat(P):"".concat(r,'["').concat(P,'"]'),o+1,{key:P,showComma:T!==R.length-1,length:D,type:f})})));return[$("{",r,o,{showComma:!1,key:x,index:C,length:p.length,type:"objectStart"})[0]].concat(V,$("}",r,o,{showComma:N,length:p.length,type:"objectEnd"})[0])}return[{content:e,level:o,key:x,index:C,path:r,showComma:N,length:D,type:f}]}function fe(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var r=oe(e),o=[];r.length;){var a=r.shift();Array.isArray(a)?r.unshift.apply(r,oe(a)):o.push(a)}return o}function se(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(ue(e)!=="object")return e;if(r.get(e))return r.get(e);if(Array.isArray(e)){var o=e.map((function(C){return se(C,r)}));return r.set(e,o),o}var a={};for(var x in e)a[x]=se(e[x],r);return r.set(e,a),a}function pe(e,r,o,a,x,C,_){try{var f=e[C](_),S=f.value}catch(N){return void o(N)}f.done?r(S):Promise.resolve(S).then(a,x)}var Ge=Y(207),ve=Y.n(Ge);function ye(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(x){return Object.getOwnPropertyDescriptor(e,x).enumerable}))),o.push.apply(o,a)}return o}function ge(e){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?ye(Object(o),!0).forEach((function(a){ee(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ye(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}var Ce={data:{type:[String,Number,Boolean,Array,Object],default:null},rootPath:{type:String,default:"root"},indent:{type:Number,default:2},showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,renderNodeActions:{type:[Boolean,Function],default:void 0},selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},theme:{type:String,default:"light"},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onNodeMouseover:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}};const Re=(0,i.defineComponent)({name:"TreeNode",props:ge(ge({},Ce),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,r){var o=r.emit,a=(0,i.computed)((function(){return ke(e.node.content)})),x=(0,i.computed)((function(){return"vjs-value vjs-value-".concat(a.value)})),C=(0,i.computed)((function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key})),_=(0,i.computed)((function(){return e.selectableType==="multiple"})),f=(0,i.computed)((function(){return e.selectableType==="single"})),S=(0,i.computed)((function(){return e.nodeSelectable(e.node)&&(_.value||f.value)})),N=(0,i.reactive)({editing:!1}),O=function(k){var y,w,H=(w=(y=k.target)===null||y===void 0?void 0:y.value)==="null"?null:w==="undefined"?void 0:w==="true"||w!=="false"&&(w[0]+w[w.length-1]==='""'||w[0]+w[w.length-1]==="''"?w.slice(1,-1):typeof Number(w)=="number"&&!isNaN(Number(w))||w==="NaN"?Number(w):w);o("valueChange",H,e.node.path)},D=(0,i.computed)((function(){var k,y=(k=e.node)===null||k===void 0?void 0:k.content;return y===null?y="null":y===void 0&&(y="undefined"),a.value==="string"?'"'.concat(y,'"'):y+""})),J=function(){var k=e.renderNodeValue;return k?k({node:e.node,defaultValue:D.value}):D.value},I=function(){o("bracketsClick",!e.collapsed,e.node)},p=function(){o("iconClick",!e.collapsed,e.node)},V=function(){o("selectedChange",e.node)},P=function(){o("nodeClick",e.node),S.value&&e.selectOnClickNode&&o("selectedChange",e.node)},T=function(){o("nodeMouseover",e.node)},R=function(k){if(e.editable&&!N.editing){N.editing=!0;var y=function w(H){var F;H.target!==k.target&&((F=H.target)===null||F===void 0?void 0:F.parentElement)!==k.target&&(N.editing=!1,document.removeEventListener("click",w))};document.removeEventListener("click",y),document.addEventListener("click",y)}},U=(function(){var k=(0,i.ref)(!1),y=(function(){var w,H=(w=ve().mark((function F(q){return ve().wrap((function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,navigator.clipboard.writeText(q);case 3:k.value=!0,setTimeout((function(){k.value=!1}),300),M.next=10;break;case 7:M.prev=7,M.t0=M.catch(0),console.error("[vue-json-pretty] Copy failed: ",M.t0);case 10:case"end":return M.stop()}}),F,null,[[0,7]])})),function(){var F=this,q=arguments;return new Promise((function(M,l){var s=w.apply(F,q);function v(t){pe(s,M,l,v,g,"next",t)}function g(t){pe(s,M,l,v,g,"throw",t)}v(void 0)}))});return function(F){return H.apply(this,arguments)}})();return{copy:y}})().copy,K=function(){var k=e.node,y=k.key,w=k.path,H=e.rootPath,F=new Function("data","return data".concat(w.slice(H.length)))(e.data),q=JSON.stringify(y?ee({},y,F):F,null,2);U(q)},z=function(){var k=e.renderNodeActions;if(!k)return null;var y={copy:K};return typeof k=="function"?k({node:e.node,defaultActions:y}):(0,i.createVNode)("span",{onClick:K,class:"vjs-tree-node-actions-item"},[(0,i.createTextVNode)("copy")])};return function(){var k,y=e.node;return(0,i.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked,dark:e.theme==="dark"},onClick:P,onMouseover:T,style:e.style},[e.showLineNumber&&(0,i.createVNode)("span",{class:"vjs-node-index"},[y.id+1]),e.showSelectController&&S.value&&y.type!=="objectEnd"&&y.type!=="arrayEnd"&&(0,i.createVNode)(Je,{isMultiple:_.value,checked:e.checked,onChange:V},null),(0,i.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(y.level)).map((function(w,H){return(0,i.createVNode)("div",{key:H,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},[Array.from(Array(e.indent)).map((function(){return(0,i.createVNode)(i.Fragment,null,[(0,i.createTextVNode)(" ")])}))])})),e.showIcon&&(0,i.createVNode)(Ke,{nodeType:y.type,onClick:p},null)]),y.key&&(0,i.createVNode)("span",{class:"vjs-key"},[(k=e.renderNodeKey,k?k({node:e.node,defaultKey:C.value||""}):C.value),(0,i.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,i.createVNode)("span",null,[y.type!=="content"&&y.content?(0,i.createVNode)(He,{data:y.content.toString(),onClick:I},null):(0,i.createVNode)("span",{class:x.value,onClick:!e.editable||e.editableTrigger&&e.editableTrigger!=="click"?void 0:R,onDblclick:e.editable&&e.editableTrigger==="dblclick"?R:void 0},[e.editable&&N.editing?(0,i.createVNode)("input",{value:D.value,onChange:O,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):J()]),y.showComma&&(0,i.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,i.createVNode)("span",{class:"vjs-comment"},[(0,i.createTextVNode)(" // "),y.length,(0,i.createTextVNode)(" items ")])]),e.renderNodeActions&&(0,i.createVNode)("span",{class:"vjs-tree-node-actions"},[z()])])}}});function me(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(x){return Object.getOwnPropertyDescriptor(e,x).enumerable}))),o.push.apply(o,a)}return o}function G(e){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?me(Object(o),!0).forEach((function(a){ee(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):me(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}const Ye=(0,i.defineComponent)({name:"Tree",props:G(G({},Ce),{},{collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},dynamicHeight:{type:Boolean,default:!0},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function},theme:{type:String,default:"light"}}),slots:["renderNodeKey","renderNodeValue","renderNodeActions"],emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,r){var o=r.emit,a=r.slots,x=(0,i.ref)(),C=(0,i.computed)((function(){return $(e.data,e.rootPath)})),_=function(l,s){return C.value.reduce((function(v,g){var t,n=g.level>=l||g.length>=s,c=(t=e.pathCollapsible)===null||t===void 0?void 0:t.call(e,g);return g.type!=="objectStart"&&g.type!=="arrayStart"||!n&&!c?v:G(G({},v),{},ee({},g.path,1))}),{})},f=(0,i.reactive)({translateY:0,visibleData:null,hiddenPaths:_(e.deep,e.collapsedNodeLength),startIndex:0,endIndex:0}),S=[],N=[],O=0,D={},J=function(l){S=Array(l).fill(0).map((function(){return e.itemHeight||20})),(N=new Array(l+1))[0]=0;for(var s=0;s<l;s++)N[s+1]=N[s]+S[s];O=N[l]||0},I=function(l){var s=S.length;l<0&&(l=0),l>s&&(l=s);for(var v=l;v<s;v++)N[v+1]=N[v]+S[v];O=N[s]||0},p=function(l,s){for(var v=0,g=l.length-1;v<g;){var t=v+g>>>1;l[t]<s?v=t+1:g=t}return v},V=(0,i.computed)((function(){for(var l=null,s=[],v=C.value.length,g=0;g<v;g++){var t=G(G({},C.value[g]),{},{id:g}),n=f.hiddenPaths[t.path];if(l&&l.path===t.path){var c=l.type==="objectStart",h=G(G(G({},t),l),{},{showComma:t.showComma,content:c?"{...}":"[...]",type:c?"objectCollapsed":"arrayCollapsed"});l=null,s.push(h)}else{if(n&&!l){l=t;continue}if(l)continue;s.push(t)}}return s})),P=(0,i.computed)((function(){var l=e.selectedValue;return l&&e.selectableType==="multiple"&&Array.isArray(l)?l:[l]})),T=(0,i.computed)((function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."})),R=(0,i.computed)((function(){return e.dynamicHeight?O||0:V.value.length*e.itemHeight})),U=function l(){var s=V.value;if(s)if(e.virtual){var v,g=((v=x.value)===null||v===void 0?void 0:v.scrollTop)||0;if(e.dynamicHeight){S.length!==s.length&&J(s.length);var t=(function(A){var d=p(N,A+1e-4);return Math.max(0,Math.min(d-1,S.length-1))})(g),n=(function(A,d){var L=p(N,A+d);return Math.max(0,Math.min(L+1,S.length))})(g,e.height),c=Math.max(0,t-5),h=Math.min(s.length,n+5);f.startIndex=c,f.endIndex=h,f.translateY=N[c]||0,f.visibleData=s.slice(c,h),(0,i.nextTick)().then((function(){for(var A=!1,d=f.startIndex;d<f.endIndex;d++){var L=D[d];if(L){var B=L.offsetHeight;B&&S[d]!==B&&(S[d]=B,N[d+1]=N[d]+S[d],I(d+1),A=!0)}}A&&l()}))}else{var u=e.height/e.itemHeight,m=Math.floor(g/e.itemHeight),j=m<0?0:m+u>s.length?s.length-u:m;j<0&&(j=0);var E=j+u;f.translateY=j*e.itemHeight,f.startIndex=j,f.endIndex=E,f.visibleData=s.slice(j,E)}}else f.translateY=0,f.startIndex=0,f.endIndex=s.length,f.visibleData=s},K=null,z=function(){K&&cancelAnimationFrame(K),K=requestAnimationFrame((function(){U()}))},k=function(l){var s,v,g=l.path,t=e.selectableType;if(t==="multiple"){var n=P.value.findIndex((function(m){return m===g})),c=oe(P.value);n!==-1?c.splice(n,1):c.push(g),o("update:selectedValue",c),o("selectedChange",c,oe(P.value))}else if(t==="single"&&P.value[0]!==g){var h=(s=P.value,v=1,(function(m){if(Array.isArray(m))return m})(s)||(function(m,j){var E=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(E!=null){var A,d,L=[],B=!0,W=!1;try{for(E=E.call(m);!(B=(A=E.next()).done)&&(L.push(A.value),!j||L.length!==j);B=!0);}catch(te){W=!0,d=te}finally{try{B||E.return==null||E.return()}finally{if(W)throw d}}return L}})(s,v)||Ne(s,v)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})())[0],u=g;o("update:selectedValue",u),o("selectedChange",u,h)}},y=function(l){o("nodeClick",l)},w=function(l){o("nodeMouseover",l)},H=function(l,s){if(l)f.hiddenPaths=G(G({},f.hiddenPaths),{},ee({},s,1));else{var v=G({},f.hiddenPaths);delete v[s],f.hiddenPaths=v}},F=function(l,s){e.collapsedOnClickBrackets&&H(l,s.path),o("bracketsClick",l,s)},q=function(l,s){H(l,s.path),o("iconClick",l,s)},M=function(l,s){var v=se(e.data),g=e.rootPath;new Function("data","val","data".concat(s.slice(g.length),"=val"))(v,l),o("update:data",v)};return(0,i.watchEffect)((function(){T.value&&(function(l){throw new Error("[VueJSONPretty] ".concat(l))})(T.value)})),(0,i.watchEffect)((function(){V.value&&(e.virtual&&e.dynamicHeight&&S.length!==V.value.length&&J(V.value.length),U())})),(0,i.watch)((function(){return[e.dynamicHeight,e.itemHeight,C.value.length]}),(function(){e.virtual&&e.dynamicHeight&&(J(V.value.length),(0,i.nextTick)(U))})),(0,i.watch)((function(){return e.deep}),(function(l){l&&(f.hiddenPaths=_(l,e.collapsedNodeLength))})),(0,i.watch)((function(){return e.collapsedNodeLength}),(function(l){l&&(f.hiddenPaths=_(e.deep,l))})),function(){var l,s,v,g,t,n=(l=e.renderNodeKey)!==null&&l!==void 0?l:a.renderNodeKey,c=(s=e.renderNodeValue)!==null&&s!==void 0?s:a.renderNodeValue,h=(v=(g=e.renderNodeActions)!==null&&g!==void 0?g:a.renderNodeActions)!==null&&v!==void 0&&v,u=(t=f.visibleData)===null||t===void 0?void 0:t.map((function(m,j){var E=f.startIndex+j;return(0,i.createVNode)("div",{key:m.id,ref:function(A){return(function(d,L){L?D[d]=L:delete D[d]})(E,A||null)}},[(0,i.createVNode)(Re,{data:e.data,rootPath:e.rootPath,indent:e.indent,node:m,collapsed:!!f.hiddenPaths[m.path],theme:e.theme,showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:P.value.includes(m.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:n,renderNodeValue:c,renderNodeActions:h,onNodeClick:y,onNodeMouseover:w,onBracketsClick:F,onIconClick:q,onSelectedChange:k,onValueChange:M,class:e.dynamicHeight?"dynamic-height":void 0,style:e.dynamicHeight?{}:e.itemHeight&&e.itemHeight!==20?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)])}));return(0,i.createVNode)("div",{ref:x,class:{"vjs-tree":!0,"is-virtual":e.virtual,dark:e.theme==="dark"},onScroll:e.virtual?z:void 0,style:e.showLineNumber?G({paddingLeft:"".concat(12*Number(C.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,i.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,i.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(R.value,"px")}},[(0,i.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(f.translateY,"px)")}},[u])])]):u])}}});var Ue=we.A;const qe={class:"card full-height"},Qe={class:"controls-bar"},ze={class:"toggles-group"},$e={class:"toggle-label"},We={class:"toggle-switch"},Ze={class:"toggle-label"},Xe={class:"toggle-switch"},et={class:"toggle-label"},tt={class:"toggle-switch"},nt={class:"center-group"},rt={class:"dual-pane"},ot={class:"pane left-pane"},at={key:0,class:"error-msg"},lt={class:"pane right-pane"},it={key:0,class:"json-viewer-container"},ct={key:1,class:"placeholder-text"},ut={__name:"JsonTool",props:["reportEvent"],setup(e){const r=e,o=Be((I,p,V)=>{r.reportEvent(I,p,V)},2e3),a=Q(""),x=Q(null),C=Q(""),_=Q(!0),f=Q(!0),S=Q(!0),N=Q(3),O=()=>{try{if(!a.value.trim()){x.value=null,C.value="";return}const I=JSON.parse(a.value);x.value=I,C.value="",o("json","format_success")}catch(I){x.value=null,C.value="JSON 解析失败: "+I.message,o("json","format_error",I.message)}},D=()=>{x.value&&(navigator.clipboard.writeText(JSON.stringify(x.value,null,4)),alert("已复制格式化后的 JSON"))},J=()=>{try{const I=JSON.parse(a.value);a.value=JSON.stringify(I),O(),r.reportEvent("json","minify")}catch{alert("JSON 无效，无法压缩")}};return(I,p)=>(re(),ne("div",qe,[p[13]||(p[13]=b("div",{class:"section-header"},[b("span",null,"JSON 格式化")],-1)),b("div",Qe,[b("div",ze,[b("label",$e,[b("div",We,[X(b("input",{type:"checkbox","onUpdate:modelValue":p[0]||(p[0]=V=>_.value=V)},null,512),[[le,_.value]]),p[5]||(p[5]=b("span",{class:"slider"},null,-1))]),p[6]||(p[6]=b("span",null,"连线",-1))]),b("label",Ze,[b("div",Xe,[X(b("input",{type:"checkbox","onUpdate:modelValue":p[1]||(p[1]=V=>f.value=V)},null,512),[[le,f.value]]),p[7]||(p[7]=b("span",{class:"slider"},null,-1))]),p[8]||(p[8]=b("span",null,"行号",-1))]),b("label",et,[b("div",tt,[X(b("input",{type:"checkbox","onUpdate:modelValue":p[2]||(p[2]=V=>S.value=V)},null,512),[[le,S.value]]),p[9]||(p[9]=b("span",{class:"slider"},null,-1))]),p[10]||(p[10]=b("span",null,"图标",-1))])]),b("div",nt,[p[12]||(p[12]=b("span",{class:"label-text"},"默认展开:",-1)),X(b("select",{"onUpdate:modelValue":p[3]||(p[3]=V=>N.value=V)},[...p[11]||(p[11]=[b("option",{value:1},"1层",-1),b("option",{value:2},"2层",-1),b("option",{value:3},"3层",-1),b("option",{value:4},"4层",-1),b("option",{value:10},"全部",-1)])],512),[[Pe,N.value]])]),b("div",{class:"actions-group"},[b("button",{class:"btn btn-outline",onClick:J},"压缩"),b("button",{class:"btn btn-primary",onClick:O},"格式化"),b("button",{class:"btn btn-outline",onClick:D},"复制结果")])]),b("div",rt,[b("div",ot,[X(b("textarea",{class:"code-area","onUpdate:modelValue":p[4]||(p[4]=V=>a.value=V),onInput:O,placeholder:"在此粘贴 JSON 字符串..."},null,544),[[_e,a.value]]),C.value?(re(),ne("div",at,Ie(C.value),1)):Ae("",!0)]),b("div",lt,[x.value?(re(),ne("div",it,[be(Fe(Ue),{data:x.value,showLine:_.value,showLineNumber:f.value,showIcon:S.value,deep:N.value,editable:!1},null,8,["data","showLine","showLineNumber","showIcon","deep"])])):(re(),ne("div",ct," 等待输入有效的 JSON... "))])])]))}},ft=Me(ut,[["__scopeId","data-v-1c78730d"]]);export{ft as default};
