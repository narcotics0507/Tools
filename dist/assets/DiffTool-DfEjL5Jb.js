import{r,y as m,c as g,o as z,e,w as n,v as d,g as w,u as x}from"./index-CkXqjWma.js";import{V as y}from"./index-BkSOVtlY.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"card full-height"},V={class:"split-container"},h={class:"input-container"},B={class:"input-box"},D={class:"input-box"},M={class:"editor-wrapper"},T={__name:"DiffTool",props:["reportEvent"],setup(u){const c=u,a=r(""),t=r(""),p=m(),v={originalEditable:!0,readOnly:!1,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,scrollbar:{verticalScrollbarSize:6,horizontalScrollbarSize:6,verticalSliderSize:6,horizontalSliderSize:6,useShadows:!1},wordWrap:"on"},f=i=>{p.value=i;const o=i.getModifiedEditor(),l=i.getOriginalEditor(),s={verticalScrollbarSize:6,horizontalScrollbarSize:6,verticalSliderSize:6,horizontalSliderSize:6,useShadows:!1};o.updateOptions({scrollbar:s,wordWrap:"on"}),l.updateOptions({scrollbar:s,wordWrap:"on"})},b=()=>{navigator.clipboard.writeText(t.value),alert("已复制修改后的文本"),c.reportEvent("diff","copy")},S=()=>{a.value="",t.value=""};return(i,o)=>(z(),g("div",O,[o[8]||(o[8]=e("div",{class:"section-header"},[e("span",null,"文本差异比对")],-1)),e("div",{class:"toolbar"},[o[4]||(o[4]=e("div",{class:"left-tip"}," ✨ 实时对比模式：请在下方输入文本，差异将自动显示。 ",-1)),e("div",{class:"btn-group"},[e("button",{class:"btn btn-outline",onClick:S},"清空"),e("button",{class:"btn btn-outline",onClick:b},"复制右侧")])]),e("div",V,[e("div",h,[e("div",B,[o[5]||(o[5]=e("div",{class:"label"},"原始文本",-1)),n(e("textarea",{class:"text-area","onUpdate:modelValue":o[0]||(o[0]=l=>a.value=l),placeholder:"在此粘贴..."},null,512),[[d,a.value]])]),e("div",D,[o[6]||(o[6]=e("div",{class:"label"},"需对比文本",-1)),n(e("textarea",{class:"text-area","onUpdate:modelValue":o[1]||(o[1]=l=>t.value=l),placeholder:"在此粘贴..."},null,512),[[d,t.value]])])]),e("div",M,[o[7]||(o[7]=e("div",{class:"label-bar"},"对比结果 (Diff View)",-1)),w(x(y),{original:a.value,"onUpdate:original":o[2]||(o[2]=l=>a.value=l),modified:t.value,"onUpdate:modified":o[3]||(o[3]=l=>t.value=l),language:"json",theme:"vs-light",options:v,onMount:f,class:"diff-editor"},null,8,["original","modified"])])])]))}},L=E(T,[["__scopeId","data-v-13f0c39b"]]);export{L as default};
